<!doctype html>
<html data-vue-meta-server-rendered data-vue-meta="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="shortcut icon" href="/static/favicon.ico" type="image/x-icon">
  <title data-vue-meta="true">Upload</title><meta data-vue-meta="true" name="description" content="Clair Design 是一套包含设计规范、Vue 组件和配套资源的设计系统"/><meta data-vue-meta="true" name="keywords" content="设计规范, Vue 组件, 设计系统, Vue.js, 前端开发, UI 系统"/><meta data-vue-meta="true" name="description" content="Clair Design 是一套包含设计规范、Vue 组件和配套资源的设计系统"/><meta data-vue-meta="true" name="keywords" content="设计规范, Vue 组件, 设计系统, Vue.js, 前端开发, UI 系统"/>
  <link rel="stylesheet" href="https://lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  
  <link rel="stylesheet" href="/static/styles.026fa9de.css" />
  
   <script>if ('serviceWorker' in navigator) { navigator.serviceWorker.register('/service-worker.js') }</script>
</head>

<body data-vue-meta="">
  
  <div id="root"><div id="root" data-server-rendered="true"><div id="app"><c-box align="center" class="toolbar"><c-box-item xs="12" sm="4" md="3" lg="2" class="has-padding-left-md"><a href="/" class="is-inline-block has-padding-sm router-link-active"><img src="https://s1.ssl.qhres.com/static/9df9c3c715a8b6cb.svg" alt="clair"></a></c-box-item><c-box-item xs="12" sm="7" md="8" lg="9" class="is-none-xs-only"><c-box class="navbar"><c-box-item xs="12" sm="auto"><a href="/" class="navbar__item router-link-active">首页</a></c-box-item><c-box-item xs="12" sm="auto"><a href="/principle/introduction" class="navbar__item">设计原则</a></c-box-item><c-box-item xs="12" sm="auto"><a href="/component/install" class="navbar__item is-active">组件</a></c-box-item><c-box-item xs="12" sm="auto"><a href="/resource" class="navbar__item">资源</a></c-box-item></c-box></c-box-item><c-box-item xs="12" sm="1" class="has-text-right is-none-xs-only"><a href="https://github.com/clair-design/clair" aria-label="github repository" target="_blank" class="is-inline-block has-margin-right-md"><c-icon name="github" valign="middle" class="is-size-xl"></c-icon></a></c-box-item></c-box><c-box class="main no-gap"><c-box-item xs="12" sm="4" md="3" lg="2" class="sidebar"><div class="navbar is-stacked"><div class="subnav"><div class="subnav__title"><c-icon name="book" size="12"></c-icon><span> 使用说明</span></div><a href="/component/install" class="navbar__item">安装和使用<!----></a><a href="/component/theme" class="navbar__item">自定义样式<!----></a></div><div class="subnav"><div class="subnav__title"><c-icon name="layout" size="12"></c-icon><span> 基础样式</span></div><a href="/component/layout" class="navbar__item">布局<span class="is-text-gray-6 has-margin-left-sm">layout</span></a><a href="/component/color" class="navbar__item">颜色<span class="is-text-gray-6 has-margin-left-sm">color</span></a><a href="/component/typography" class="navbar__item">文本样式<span class="is-text-gray-6 has-margin-left-sm">typography</span></a><a href="/component/helper" class="navbar__item">CSS 工具类<span class="is-text-gray-6 has-margin-left-sm">helper</span></a><a href="/component/responsive" class="navbar__item">响应式设计<span class="is-text-gray-6 has-margin-left-sm">responsive</span></a><a href="/component/icon" class="navbar__item">图标<span class="is-text-gray-6 has-margin-left-sm">icon</span></a><a href="/component/transition" class="navbar__item">过渡动画<span class="is-text-gray-6 has-margin-left-sm">transition</span></a></div><div class="subnav"><div class="subnav__title"><c-icon name="check-circle" size="12"></c-icon><span> 表单</span></div><a href="/component/button" class="navbar__item">按钮<span class="is-text-gray-6 has-margin-left-sm">button</span></a><a href="/component/input" class="navbar__item">文本框<span class="is-text-gray-6 has-margin-left-sm">input</span></a><a href="/component/select" class="navbar__item">下拉框<span class="is-text-gray-6 has-margin-left-sm">select</span></a><a href="/component/checkbox" class="navbar__item">复选框<span class="is-text-gray-6 has-margin-left-sm">checkbox</span></a><a href="/component/radio" class="navbar__item">单选框<span class="is-text-gray-6 has-margin-left-sm">radio</span></a><a href="/component/switch" class="navbar__item">开关<span class="is-text-gray-6 has-margin-left-sm">switch</span></a><a href="/component/slider" class="navbar__item">滑块<span class="is-text-gray-6 has-margin-left-sm">slider</span></a><a href="/component/color-picker" class="navbar__item">取色器<span class="is-text-gray-6 has-margin-left-sm">color-picker</span></a><a href="/component/form" class="navbar__item">表单<span class="is-text-gray-6 has-margin-left-sm">form</span></a><a href="/component/timepicker" class="navbar__item">时间选择<span class="is-text-gray-6 has-margin-left-sm">timepicker</span></a><a href="/component/datepicker" class="navbar__item">日期选择<span class="is-text-gray-6 has-margin-left-sm">datepicker</span></a><a href="/component/cascader" class="navbar__item">级联选择<span class="is-text-gray-6 has-margin-left-sm">cascader</span></a><a href="/component/upload" class="navbar__item router-link-exact-active router-link-active">文件上传<span class="is-text-gray-6 has-margin-left-sm">upload</span></a></div><div class="subnav"><div class="subnav__title"><c-icon name="navigation" size="12"></c-icon><span> 导航</span></div><a href="/component/tabs" class="navbar__item">标签页<span class="is-text-gray-6 has-margin-left-sm">tabs</span></a><a href="/component/menu" class="navbar__item">导航菜单<span class="is-text-gray-6 has-margin-left-sm">menu</span></a><a href="/component/breadcrumb" class="navbar__item">面包屑<span class="is-text-gray-6 has-margin-left-sm">breadcrumb</span></a><a href="/component/toolbar" class="navbar__item">工具栏<span class="is-text-gray-6 has-margin-left-sm">toolbar</span></a><a href="/component/steps" class="navbar__item">步骤条<span class="is-text-gray-6 has-margin-left-sm">steps</span></a></div><div class="subnav"><div class="subnav__title"><c-icon name="bar-chart-2" size="12"></c-icon><span> 数据展示</span></div><a href="/component/table" class="navbar__item">表格<span class="is-text-gray-6 has-margin-left-sm">table</span></a><a href="/component/card" class="navbar__item">卡片<span class="is-text-gray-6 has-margin-left-sm">card</span></a><a href="/component/pagination" class="navbar__item">分页<span class="is-text-gray-6 has-margin-left-sm">pagination</span></a><a href="/component/chip" class="navbar__item">标签<span class="is-text-gray-6 has-margin-left-sm">chip</span></a><a href="/component/calendar" class="navbar__item">日历<span class="is-text-gray-6 has-margin-left-sm">calendar</span></a><a href="/component/tree" class="navbar__item">树形组件<span class="is-text-gray-6 has-margin-left-sm">tree</span></a></div><div class="subnav"><div class="subnav__title"><c-icon name="alert-triangle" size="12"></c-icon><span> 视觉反馈</span></div><a href="/component/modal" class="navbar__item">对话框<span class="is-text-gray-6 has-margin-left-sm">modal</span></a><a href="/component/tip" class="navbar__item">提示框<span class="is-text-gray-6 has-margin-left-sm">tip</span></a><a href="/component/pop-confirm" class="navbar__item">气泡确认框<span class="is-text-gray-6 has-margin-left-sm">pop-confirm</span></a><a href="/component/notification" class="navbar__item">通知<span class="is-text-gray-6 has-margin-left-sm">notification</span></a><a href="/component/loading" class="navbar__item">加载中<span class="is-text-gray-6 has-margin-left-sm">loading</span></a></div></div></c-box-item><c-box-item xs="12" sm="8 offset-4" md="9 offset-3" lg="10 offset-2" class="content"><article class="markdown-body c-container is-lg"><h1>文件上传</h1> <p>ajax文件上传</p> <h2 id="dan-wen-jian-shang-chuan"><a href="#dan-wen-jian-shang-chuan" target="_blank" rel="nofollow noopener noreferrer"></a>单文件上传</h2> <p>默认只需填写action便可以上传文件</p> <p>如若需要处理成功或者失败那么请绑定@success和@error事件</p> <div class="vue-demo-block"><div class="vue-demo"><c-upload action="https://jsonplaceholder.typicode.com/posts/"></c-upload></div> <div class="vue-demo-tools"><input type="checkbox" tabindex="-1" aria-hidden="true"> <label aria-hidden="true"></label> <div class="vue-demo-tool-snippets"><a title="在 Codepen 中打开"><c-icon type="feather" name="codepen" class="vue-demo-tools__icon"></c-icon></a> <a title="在 CodeSandbox 中打开"><c-icon type="feather" name="edit-3" class="vue-demo-tools__icon"></c-icon></a> <a title="复制代码"><c-icon type="feather" name="copy" class="vue-demo-tools__icon"></c-icon></a></div></div> <pre class="vue-demo-source-code"><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">c-upload</span>
  <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span>
  @<span class="hljs-attr">success</span>=<span class="hljs-string">&quot;onSuccess&quot;</span>
  @<span class="hljs-attr">error</span>=<span class="hljs-string">&quot;onError&quot;</span>
/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-attr">methods</span>: {
      onSuccess (res, rawFile) {
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传成功！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传成功后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'success'</span>
        })
      },
      onError (err, rawFile) {
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传失败！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传失败后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>
        })
      }
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></div> <h2 id="duo-wen-jian-shang-chuan"><a href="#duo-wen-jian-shang-chuan" target="_blank" rel="nofollow noopener noreferrer"></a>多文件上传</h2> <p>添加multiple属性就可以上传多文件</p> <div class="vue-demo-block"><div class="vue-demo"><c-upload action="https://jsonplaceholder.typicode.com/posts/" multiple="multiple"></c-upload></div> <div class="vue-demo-tools"><input type="checkbox" tabindex="-1" aria-hidden="true"> <label aria-hidden="true"></label> <div class="vue-demo-tool-snippets"><a title="在 Codepen 中打开"><c-icon type="feather" name="codepen" class="vue-demo-tools__icon"></c-icon></a> <a title="在 CodeSandbox 中打开"><c-icon type="feather" name="edit-3" class="vue-demo-tools__icon"></c-icon></a> <a title="复制代码"><c-icon type="feather" name="copy" class="vue-demo-tools__icon"></c-icon></a></div></div> <pre class="vue-demo-source-code"><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">c-upload</span>
  <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span>
  @<span class="hljs-attr">success</span>=<span class="hljs-string">&quot;onSuccess&quot;</span>
  @<span class="hljs-attr">error</span>=<span class="hljs-string">&quot;onError&quot;</span>
  <span class="hljs-attr">multiple</span>
/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-attr">methods</span>: {
      onSuccess (res, rawFile) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">''</span>)
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传成功！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传成功后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'success'</span>
        })
      },
      onError (err, rawFile) {
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传失败！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传失败后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>
        })
      }
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></div> <h2 id="xian-zhi-zui-da-shang-chuan-wen-jian-shu-liang"><a href="#xian-zhi-zui-da-shang-chuan-wen-jian-shu-liang" target="_blank" rel="nofollow noopener noreferrer"></a>限制最大上传文件数量</h2> <p>当指定了multiple属性后可以指定每次可同时上传的最大文件数量limit</p> <div class="vue-demo-block"><div class="vue-demo"><c-upload action="https://jsonplaceholder.typicode.com/posts/" multiple="multiple" limit="3"></c-upload></div> <div class="vue-demo-tools"><input type="checkbox" tabindex="-1" aria-hidden="true"> <label aria-hidden="true"></label> <div class="vue-demo-tool-snippets"><a title="在 Codepen 中打开"><c-icon type="feather" name="codepen" class="vue-demo-tools__icon"></c-icon></a> <a title="在 CodeSandbox 中打开"><c-icon type="feather" name="edit-3" class="vue-demo-tools__icon"></c-icon></a> <a title="复制代码"><c-icon type="feather" name="copy" class="vue-demo-tools__icon"></c-icon></a></div></div> <pre class="vue-demo-source-code"><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">c-upload</span>
  <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span>
  @<span class="hljs-attr">success</span>=<span class="hljs-string">&quot;onSuccess&quot;</span>
  @<span class="hljs-attr">error</span>=<span class="hljs-string">&quot;onError&quot;</span>
  <span class="hljs-attr">multiple</span>
  <span class="hljs-attr">:limit</span>=<span class="hljs-string">&quot;3&quot;</span>
  @<span class="hljs-attr">exceed</span>=<span class="hljs-string">&quot;onExceed&quot;</span>
/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-attr">methods</span>: {
      onSuccess (res, rawFile) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">''</span>)
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传成功！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传成功后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'success'</span>
        })
      },
      onError (err, rawFile) {
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传失败！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传失败后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>
        })
      },
      onExceed (files, fileList) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'onExceed'</span>)
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传失败！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">`超过限制`</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>
        })
      },
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></div> <h2 id="xiu-gai-shang-chuan-an-niu-zhu-ti"><a href="#xiu-gai-shang-chuan-an-niu-zhu-ti" target="_blank" rel="nofollow noopener noreferrer"></a>修改上传按钮主题</h2> <p>可以自行修改按钮主题，修改按钮主题请参考button组件</p> <div class="vue-demo-block"><div class="vue-demo"><div class="has-margin-sm"><c-upload action="https://jsonplaceholder.typicode.com/posts/"></c-upload></div> <div class="has-margin-sm"><c-upload primary="" round="" action="https://jsonplaceholder.typicode.com/posts/"></c-upload></div> <div class="has-margin-sm"><c-upload success="" outline="" action="https://jsonplaceholder.typicode.com/posts/"></c-upload></div> <div class="has-margin-sm"><c-upload warning="" outline="" round="" action="https://jsonplaceholder.typicode.com/posts/"></c-upload></div> <div class="has-margin-sm"><c-upload danger="" flat="" action="https://jsonplaceholder.typicode.com/posts/"></c-upload></div></div> <div class="vue-demo-tools"><input type="checkbox" tabindex="-1" aria-hidden="true"> <label aria-hidden="true"></label> <div class="vue-demo-tool-snippets"><a title="在 Codepen 中打开"><c-icon type="feather" name="codepen" class="vue-demo-tools__icon"></c-icon></a> <a title="在 CodeSandbox 中打开"><c-icon type="feather" name="edit-3" class="vue-demo-tools__icon"></c-icon></a> <a title="复制代码"><c-icon type="feather" name="copy" class="vue-demo-tools__icon"></c-icon></a></div></div> <pre class="vue-demo-source-code"><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;has-margin-sm&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">c-upload</span>
    <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span>
    @<span class="hljs-attr">success</span>=<span class="hljs-string">&quot;onSuccess&quot;</span>
    @<span class="hljs-attr">error</span>=<span class="hljs-string">&quot;onError&quot;</span>
  /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;has-margin-sm&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">c-upload</span>
    <span class="hljs-attr">primary</span>
    <span class="hljs-attr">round</span>
    <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span>
    @<span class="hljs-attr">success</span>=<span class="hljs-string">&quot;onSuccess&quot;</span>
    @<span class="hljs-attr">error</span>=<span class="hljs-string">&quot;onError&quot;</span>
  /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;has-margin-sm&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">c-upload</span>
    <span class="hljs-attr">success</span>
    <span class="hljs-attr">outline</span>
    <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span>
    @<span class="hljs-attr">success</span>=<span class="hljs-string">&quot;onSuccess&quot;</span>
    @<span class="hljs-attr">error</span>=<span class="hljs-string">&quot;onError&quot;</span>
  /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;has-margin-sm&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">c-upload</span>
    <span class="hljs-attr">warning</span>
    <span class="hljs-attr">outline</span> <span class="hljs-attr">round</span>
    <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span>
    @<span class="hljs-attr">success</span>=<span class="hljs-string">&quot;onSuccess&quot;</span>
    @<span class="hljs-attr">error</span>=<span class="hljs-string">&quot;onError&quot;</span>
  /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;has-margin-sm&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">c-upload</span>
    <span class="hljs-attr">danger</span>
    <span class="hljs-attr">flat</span>
    <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span>
    @<span class="hljs-attr">success</span>=<span class="hljs-string">&quot;onSuccess&quot;</span>
    @<span class="hljs-attr">error</span>=<span class="hljs-string">&quot;onError&quot;</span>
  /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-attr">methods</span>: {
      onSuccess (res, rawFile) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">''</span>)
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传成功！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传成功后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'success'</span>
        })
      },
      onError (err, rawFile) {
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传失败！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传失败后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>
        })
      },
      onExceed (files, fileList) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'onExceed'</span>)
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传失败！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">`超过限制`</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>
        })
      },
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></div> <h2 id="zi-ding-yi-shang-chuan-an-niu"><a href="#zi-ding-yi-shang-chuan-an-niu" target="_blank" rel="nofollow noopener noreferrer"></a>自定义上传按钮</h2> <p>可以使用slot=&quot;btn&quot;来自定义上传按钮</p> <div class="vue-demo-block"><div class="vue-demo"><c-upload action="https://jsonplaceholder.typicode.com/posts/" multiple="multiple" limit="3"><c-button slot="btn" primary="" outline="">自定义的上传按钮</c-button></c-upload></div> <div class="vue-demo-tools"><input type="checkbox" tabindex="-1" aria-hidden="true"> <label aria-hidden="true"></label> <div class="vue-demo-tool-snippets"><a title="在 Codepen 中打开"><c-icon type="feather" name="codepen" class="vue-demo-tools__icon"></c-icon></a> <a title="在 CodeSandbox 中打开"><c-icon type="feather" name="edit-3" class="vue-demo-tools__icon"></c-icon></a> <a title="复制代码"><c-icon type="feather" name="copy" class="vue-demo-tools__icon"></c-icon></a></div></div> <pre class="vue-demo-source-code"><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">c-upload</span>
  <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span>
  @<span class="hljs-attr">success</span>=<span class="hljs-string">&quot;onSuccess&quot;</span>
  @<span class="hljs-attr">error</span>=<span class="hljs-string">&quot;onError&quot;</span>
  <span class="hljs-attr">multiple</span>
  <span class="hljs-attr">:limit</span>=<span class="hljs-string">&quot;3&quot;</span>
  @<span class="hljs-attr">exceed</span>=<span class="hljs-string">&quot;onExceed&quot;</span>
&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">c-button</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;btn&quot;</span> <span class="hljs-attr">primary</span> <span class="hljs-attr">outline</span>&gt;</span>自定义的上传按钮<span class="hljs-tag">&lt;/<span class="hljs-name">c-button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">c-upload</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-attr">methods</span>: {
      onSuccess (res, rawFile) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">''</span>)
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传成功！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传成功后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'success'</span>
        })
      },
      onError (err, rawFile) {
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传失败！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传失败后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>
        })
      },
      onExceed (files, fileList) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'onExceed'</span>)
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传失败！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">`超过限制`</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>
        })
      },
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></div> <h2 id="shang-chuan-wen-jian-da-xiao-de-xian-zhi"><a href="#shang-chuan-wen-jian-da-xiao-de-xian-zhi" target="_blank" rel="nofollow noopener noreferrer"></a>上传文件大小的限制</h2> <p>上传文件之前会执行validator函数进行一些校验，参数会拿到对应的文件对象，可以在这里进行上传文件大小的限制，若函数返回 false，则代表校验失败，组件会停止该次上传操作</p> <div class="vue-demo-block"><div class="vue-demo"><c-upload action="https://jsonplaceholder.typicode.com/posts/" validator="function () { [native code] }"></c-upload></div> <div class="vue-demo-tools"><input type="checkbox" tabindex="-1" aria-hidden="true"> <label aria-hidden="true"></label> <div class="vue-demo-tool-snippets"><a title="在 Codepen 中打开"><c-icon type="feather" name="codepen" class="vue-demo-tools__icon"></c-icon></a> <a title="在 CodeSandbox 中打开"><c-icon type="feather" name="edit-3" class="vue-demo-tools__icon"></c-icon></a> <a title="复制代码"><c-icon type="feather" name="copy" class="vue-demo-tools__icon"></c-icon></a></div></div> <pre class="vue-demo-source-code"><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">c-upload</span>
  <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span>
  @<span class="hljs-attr">success</span>=<span class="hljs-string">&quot;onSuccess&quot;</span>
  @<span class="hljs-attr">error</span>=<span class="hljs-string">&quot;onError&quot;</span>
  <span class="hljs-attr">:validator</span>=<span class="hljs-string">&quot;validator&quot;</span>
/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-attr">methods</span>: {
      onSuccess (res, rawFile) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">''</span>)
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传成功！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传成功后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'success'</span>
        })
      },
      onError (err, rawFile) {
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传失败！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传失败后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>
        })
      },
      validator (file) {
        <span class="hljs-keyword">const</span> MB = file.size/<span class="hljs-number">1000</span>/<span class="hljs-number">1000</span>
        <span class="hljs-keyword">if</span> (MB &gt; <span class="hljs-number">40</span>) {
          <span class="hljs-keyword">this</span>.$notify({
            <span class="hljs-attr">title</span>: <span class="hljs-string">'上传失败！'</span>,
            <span class="hljs-attr">message</span>: <span class="hljs-string">'文件超过40MB！'</span>,
            <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>
          })
          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
      }
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></div> <h2 id="shou-dong-shang-chuan"><a href="#shou-dong-shang-chuan" target="_blank" rel="nofollow noopener noreferrer"></a>手动上传</h2> <p>当auto-upload=false时需要手动调用组件的submit方法来进行文件的上传</p> <div class="vue-demo-block"><div class="vue-demo"><c-upload action="https://jsonplaceholder.typicode.com/posts/"></c-upload> <c-button primary="">点击上传</c-button></div> <div class="vue-demo-tools"><input type="checkbox" tabindex="-1" aria-hidden="true"> <label aria-hidden="true"></label> <div class="vue-demo-tool-snippets"><a title="在 Codepen 中打开"><c-icon type="feather" name="codepen" class="vue-demo-tools__icon"></c-icon></a> <a title="在 CodeSandbox 中打开"><c-icon type="feather" name="edit-3" class="vue-demo-tools__icon"></c-icon></a> <a title="复制代码"><c-icon type="feather" name="copy" class="vue-demo-tools__icon"></c-icon></a></div></div> <pre class="vue-demo-source-code"><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">c-upload</span>
  <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;upload&quot;</span>
  <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span>
  @<span class="hljs-attr">success</span>=<span class="hljs-string">&quot;onSuccess&quot;</span>
  @<span class="hljs-attr">error</span>=<span class="hljs-string">&quot;onError&quot;</span>
  <span class="hljs-attr">:auto-upload</span>=<span class="hljs-string">&quot;false&quot;</span>
/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">c-button</span> <span class="hljs-attr">primary</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;submitUpload&quot;</span>&gt;</span>点击上传<span class="hljs-tag">&lt;/<span class="hljs-name">c-button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-attr">methods</span>: {
      onSuccess (res, rawFile) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">''</span>)
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传成功！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传成功后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'success'</span>
        })
      },
      onError (err, rawFile) {
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传失败！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传失败后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>
        })
      },
      submitUpload() {
        <span class="hljs-keyword">this</span>.$refs.upload.submit();
      },
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></div> <h2 id="shang-chuan-shi-fu-dai-de-e-wai-can-shu"><a href="#shang-chuan-shi-fu-dai-de-e-wai-can-shu" target="_blank" rel="nofollow noopener noreferrer"></a>上传时附带的额外参数</h2> <p>可以在data属性指定上传时附带的额外参数，比如token</p> <div class="vue-demo-block"><div class="vue-demo"><c-upload action="https://jsonplaceholder.typicode.com/posts/" data="[object Object]"></c-upload></div> <div class="vue-demo-tools"><input type="checkbox" tabindex="-1" aria-hidden="true"> <label aria-hidden="true"></label> <div class="vue-demo-tool-snippets"><a title="在 Codepen 中打开"><c-icon type="feather" name="codepen" class="vue-demo-tools__icon"></c-icon></a> <a title="在 CodeSandbox 中打开"><c-icon type="feather" name="edit-3" class="vue-demo-tools__icon"></c-icon></a> <a title="复制代码"><c-icon type="feather" name="copy" class="vue-demo-tools__icon"></c-icon></a></div></div> <pre class="vue-demo-source-code"><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">c-upload</span>
  <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span>
  @<span class="hljs-attr">success</span>=<span class="hljs-string">&quot;onSuccess&quot;</span>
  @<span class="hljs-attr">error</span>=<span class="hljs-string">&quot;onError&quot;</span>
  <span class="hljs-attr">:data</span>=<span class="hljs-string">&quot;{token:'d6q8wy82'}&quot;</span>
/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-attr">methods</span>: {
      onSuccess (res, rawFile) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">''</span>)
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传成功！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传成功后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'success'</span>
        })
      },
      onError (err, rawFile) {
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传失败！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传失败后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>
        })
      }
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></div> <h2 id="zhan-shi-shang-chuan-wen-jian-lie-biao-slot-file-list"><a href="#zhan-shi-shang-chuan-wen-jian-lie-biao-slot-file-list" target="_blank" rel="nofollow noopener noreferrer"></a>展示上传文件列表 slot=&quot;file-list&quot;</h2> <div class="vue-demo-block"><div class="vue-demo"><c-upload action="https://jsonplaceholder.typicode.com/posts/"></c-upload></div> <div class="vue-demo-tools"><input type="checkbox" tabindex="-1" aria-hidden="true"> <label aria-hidden="true"></label> <div class="vue-demo-tool-snippets"><a title="在 Codepen 中打开"><c-icon type="feather" name="codepen" class="vue-demo-tools__icon"></c-icon></a> <a title="在 CodeSandbox 中打开"><c-icon type="feather" name="edit-3" class="vue-demo-tools__icon"></c-icon></a> <a title="复制代码"><c-icon type="feather" name="copy" class="vue-demo-tools__icon"></c-icon></a></div></div> <pre class="vue-demo-source-code"><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">c-upload</span>
  <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span>
  @<span class="hljs-attr">success</span>=<span class="hljs-string">&quot;onSuccess&quot;</span>
  @<span class="hljs-attr">error</span>=<span class="hljs-string">&quot;onError&quot;</span>
&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;file-list&quot;</span> <span class="hljs-attr">slot-scope</span>=<span class="hljs-string">&quot;props&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span> {{props.filenames[0]}}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">c-upload</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-attr">methods</span>: {
      onSuccess (res, rawFile) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">''</span>)
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传成功！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传成功后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'success'</span>
        })
      },
      onError (err, rawFile) {
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传失败！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传失败后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>
        })
      }
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></div> <h2 id="xian-zhi-shang-chuan-wen-jian-de-ge-shi-xu-yao-zhi-ding-accept-shu-xing"><a href="#xian-zhi-shang-chuan-wen-jian-de-ge-shi-xu-yao-zhi-ding-accept-shu-xing" target="_blank" rel="nofollow noopener noreferrer"></a>限制上传文件的格式需要指定accept属性</h2> <div class="vue-demo-block"><div class="vue-demo"><c-upload action="https://jsonplaceholder.typicode.com/posts/" accept="text/javascript, application/javascript"></c-upload></div> <div class="vue-demo-tools"><input type="checkbox" tabindex="-1" aria-hidden="true"> <label aria-hidden="true"></label> <div class="vue-demo-tool-snippets"><a title="在 Codepen 中打开"><c-icon type="feather" name="codepen" class="vue-demo-tools__icon"></c-icon></a> <a title="在 CodeSandbox 中打开"><c-icon type="feather" name="edit-3" class="vue-demo-tools__icon"></c-icon></a> <a title="复制代码"><c-icon type="feather" name="copy" class="vue-demo-tools__icon"></c-icon></a></div></div> <pre class="vue-demo-source-code"><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">c-upload</span>
  <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://jsonplaceholder.typicode.com/posts/&quot;</span>
  @<span class="hljs-attr">success</span>=<span class="hljs-string">&quot;onSuccess&quot;</span>
  @<span class="hljs-attr">error</span>=<span class="hljs-string">&quot;onError&quot;</span>
  <span class="hljs-attr">accept</span>=<span class="hljs-string">&quot;text/javascript, application/javascript&quot;</span>
/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-attr">methods</span>: {
      onSuccess (res, rawFile) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">''</span>)
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传成功！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传成功后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'success'</span>
        })
      },
      onError (err, rawFile) {
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传失败！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传失败后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>
        })
      }
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></div> <h2 id="zi-ding-yi-shang-chuan-fang-fa"><a href="#zi-ding-yi-shang-chuan-fang-fa" target="_blank" rel="nofollow noopener noreferrer"></a>自定义上传方法</h2> <p>如果组件自身的上传不符合业务场景需求，那么也可以自定义http-request方法，返回一个Promise，用来覆盖默认的上传行为</p> <div class="vue-demo-block"><div class="vue-demo"><c-upload http-request="function () { [native code] }"></c-upload></div> <div class="vue-demo-tools"><input type="checkbox" tabindex="-1" aria-hidden="true"> <label aria-hidden="true"></label> <div class="vue-demo-tool-snippets"><a title="在 Codepen 中打开"><c-icon type="feather" name="codepen" class="vue-demo-tools__icon"></c-icon></a> <a title="在 CodeSandbox 中打开"><c-icon type="feather" name="edit-3" class="vue-demo-tools__icon"></c-icon></a> <a title="复制代码"><c-icon type="feather" name="copy" class="vue-demo-tools__icon"></c-icon></a></div></div> <pre class="vue-demo-source-code"><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">c-upload</span>
  @<span class="hljs-attr">success</span>=<span class="hljs-string">&quot;onSuccess&quot;</span>
  @<span class="hljs-attr">error</span>=<span class="hljs-string">&quot;onError&quot;</span>
  <span class="hljs-attr">:http-request</span>=<span class="hljs-string">&quot;httpRequest&quot;</span>
/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-attr">methods</span>: {
      onSuccess (res, rawFile) {
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传成功！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传成功后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'success'</span>
        })
      },
      onError (err, rawFile) {
        <span class="hljs-keyword">this</span>.$notify({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'上传失败！'</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'上传失败后的回调函数'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>
        })
      },
      httpRequest (opt) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
          setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
            resolve(<span class="hljs-string">'完成'</span>)
          },<span class="hljs-number">1000</span>)
        })
      }
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></div> <h3 id="shu-xing"><a href="#shu-xing" target="_blank" rel="nofollow noopener noreferrer"></a>属性</h3> <table><thead><tr><th>名称</th> <th>类型</th> <th>默认值</th> <th>说明</th></tr></thead> <tbody><tr><td>action</td> <td>String</td> <td>-</td> <td>必选参数，上传的地址</td></tr> <tr><td>accept</td> <td>String</td> <td>-</td> <td>限制上传的文件类型</td></tr> <tr><td>limit</td> <td>Number</td> <td>-</td> <td>最大上传文件数量</td></tr> <tr><td>multiple</td> <td>Boolean</td> <td>false</td> <td>是否可以选中多个文件</td></tr> <tr><td>auto-upload</td> <td>Boolean</td> <td>true</td> <td>是否在选取文件后立即进行上传</td></tr> <tr><td>name</td> <td>String</td> <td>'file'</td> <td>文件字段名称</td></tr> <tr><td>headers</td> <td>Object</td> <td>{ }</td> <td>自定义请求头</td></tr> <tr><td>data</td> <td>Object</td> <td>{ }</td> <td>上传时附带的额外参数</td></tr> <tr><td>validator</td> <td>Function</td> <td>-</td> <td>上传文件之前会执行validator函数进行一些校验，参数会拿到对应的文件对象，若函数返回 false，则代表校验失败，组件会停止该次上传操作 参数为(file: Object)</td></tr> <tr><td>httpRequest</td> <td>Function</td> <td>-</td> <td>覆盖默认的上传行为，可以自定义上传的实现</td></tr></tbody></table> <h3 id="shi-jian"><a href="#shi-jian" target="_blank" rel="nofollow noopener noreferrer"></a>事件</h3> <table><thead><tr><th>名称</th> <th>类型</th> <th>默认值</th> <th>说明</th></tr></thead> <tbody><tr><td>exceed</td> <td>Function</td> <td>-</td> <td>超过最大上传文件限制事件 参数为(files: Array, fileList: Array)</td></tr> <tr><td>progress</td> <td>Function</td> <td>-</td> <td>上传过程事件 参数为(e: Object, file: Object)</td></tr> <tr><td>success</td> <td>Function</td> <td>-</td> <td>上传成功事件 参数为(res: Object, file: Object)</td></tr> <tr><td>error</td> <td>Function</td> <td>-</td> <td>上传失败后事件 参数为(err: Object, file: Object)</td></tr></tbody></table> <h3 id="slots"><a href="#slots" target="_blank" rel="nofollow noopener noreferrer"></a>slots</h3> <table><thead><tr><th>名称</th> <th>是否 Scoped</th> <th>说明</th> <th></th></tr></thead> <tbody><tr><td>file-list</td> <td>是</td> <td>自定义上传文件列表的展示，props.filenames为上传列表的文件名数组</td> <td></td></tr> <tr><td>btn</td> <td>否</td> <td>自定义上传按钮</td> <td></td></tr></tbody></table></article><footer>Code licensed under MIT License.<a href="https://github.com/clair-design/clair">Github项目</a>/<a href="https://github.com/clair-design/clair/issues">问题反馈</a></footer></c-box-item></c-box><c-button primary="" outline="" round="" icon="navigation-2" title="回到顶部" style="position:fixed;right:50px;bottom:100px;z-index:999;display:none;"></c-button></div></div></div>
  <script src="https://lib.baomitu.com/babel-polyfill/6.26.0/polyfill.min.js"></script><script src="https://lib.baomitu.com/fetch/2.0.3/fetch.min.js"></script><script src="https://lib.baomitu.com/clipboard.js/1.7.1/clipboard.min.js"></script><script src="https://lib.baomitu.com/yamljs/0.3.0/yaml.min.js"></script>
  
  <script src="/static/vendor.1634e574.js"></script>
  <script src="/static/framework.2d67bbfd.js"></script>
  <script src="/static/manifest.48586692.js"></script>
</body>
</html>