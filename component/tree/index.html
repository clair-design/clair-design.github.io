<!doctype html>
<html data-vue-meta-server-rendered data-vue-meta="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="shortcut icon" href="/static/favicon.ico" type="image/x-icon">
  <title data-vue-meta="true">Tree</title><meta data-vue-meta="true" name="description" content="Clair Design 是一套包含设计规范、Vue 组件和配套资源的设计系统"/><meta data-vue-meta="true" name="keywords" content="设计规范, Vue 组件, 设计系统, Vue.js, 前端开发, UI 系统"/><meta data-vue-meta="true" name="description" content="Clair Design 是一套包含设计规范、Vue 组件和配套资源的设计系统"/><meta data-vue-meta="true" name="keywords" content="设计规范, Vue 组件, 设计系统, Vue.js, 前端开发, UI 系统"/>
  <link rel="stylesheet" href="https://lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  
  <link rel="stylesheet" href="/static/styles.026fa9de.css" />
  
   <script>if ('serviceWorker' in navigator) { navigator.serviceWorker.register('/service-worker.js') }</script>
</head>

<body data-vue-meta="">
  
  <div id="root"><div id="root" data-server-rendered="true"><div id="app"><c-box align="center" class="toolbar"><c-box-item xs="12" sm="4" md="3" lg="2" class="has-padding-left-md"><a href="/" class="is-inline-block has-padding-sm router-link-active"><img src="https://s1.ssl.qhres.com/static/9df9c3c715a8b6cb.svg" alt="clair"></a></c-box-item><c-box-item xs="12" sm="7" md="8" lg="9" class="is-none-xs-only"><c-box class="navbar"><c-box-item xs="12" sm="auto"><a href="/" class="navbar__item router-link-active">首页</a></c-box-item><c-box-item xs="12" sm="auto"><a href="/principle/introduction" class="navbar__item">设计原则</a></c-box-item><c-box-item xs="12" sm="auto"><a href="/component/install" class="navbar__item is-active">组件</a></c-box-item><c-box-item xs="12" sm="auto"><a href="/resource" class="navbar__item">资源</a></c-box-item></c-box></c-box-item><c-box-item xs="12" sm="1" class="has-text-right is-none-xs-only"><a href="https://github.com/clair-design/clair" aria-label="github repository" target="_blank" class="is-inline-block has-margin-right-md"><c-icon name="github" valign="middle" class="is-size-xl"></c-icon></a></c-box-item></c-box><c-box class="main no-gap"><c-box-item xs="12" sm="4" md="3" lg="2" class="sidebar"><div class="navbar is-stacked"><div class="subnav"><div class="subnav__title"><c-icon name="book" size="12"></c-icon><span> 使用说明</span></div><a href="/component/install" class="navbar__item">安装和使用<!----></a><a href="/component/theme" class="navbar__item">自定义样式<!----></a></div><div class="subnav"><div class="subnav__title"><c-icon name="layout" size="12"></c-icon><span> 基础样式</span></div><a href="/component/layout" class="navbar__item">布局<span class="is-text-gray-6 has-margin-left-sm">layout</span></a><a href="/component/color" class="navbar__item">颜色<span class="is-text-gray-6 has-margin-left-sm">color</span></a><a href="/component/typography" class="navbar__item">文本样式<span class="is-text-gray-6 has-margin-left-sm">typography</span></a><a href="/component/helper" class="navbar__item">CSS 工具类<span class="is-text-gray-6 has-margin-left-sm">helper</span></a><a href="/component/responsive" class="navbar__item">响应式设计<span class="is-text-gray-6 has-margin-left-sm">responsive</span></a><a href="/component/icon" class="navbar__item">图标<span class="is-text-gray-6 has-margin-left-sm">icon</span></a><a href="/component/transition" class="navbar__item">过渡动画<span class="is-text-gray-6 has-margin-left-sm">transition</span></a></div><div class="subnav"><div class="subnav__title"><c-icon name="check-circle" size="12"></c-icon><span> 表单</span></div><a href="/component/button" class="navbar__item">按钮<span class="is-text-gray-6 has-margin-left-sm">button</span></a><a href="/component/input" class="navbar__item">文本框<span class="is-text-gray-6 has-margin-left-sm">input</span></a><a href="/component/select" class="navbar__item">下拉框<span class="is-text-gray-6 has-margin-left-sm">select</span></a><a href="/component/checkbox" class="navbar__item">复选框<span class="is-text-gray-6 has-margin-left-sm">checkbox</span></a><a href="/component/radio" class="navbar__item">单选框<span class="is-text-gray-6 has-margin-left-sm">radio</span></a><a href="/component/switch" class="navbar__item">开关<span class="is-text-gray-6 has-margin-left-sm">switch</span></a><a href="/component/slider" class="navbar__item">滑块<span class="is-text-gray-6 has-margin-left-sm">slider</span></a><a href="/component/color-picker" class="navbar__item">取色器<span class="is-text-gray-6 has-margin-left-sm">color-picker</span></a><a href="/component/form" class="navbar__item">表单<span class="is-text-gray-6 has-margin-left-sm">form</span></a><a href="/component/timepicker" class="navbar__item">时间选择<span class="is-text-gray-6 has-margin-left-sm">timepicker</span></a><a href="/component/datepicker" class="navbar__item">日期选择<span class="is-text-gray-6 has-margin-left-sm">datepicker</span></a><a href="/component/cascader" class="navbar__item">级联选择<span class="is-text-gray-6 has-margin-left-sm">cascader</span></a><a href="/component/upload" class="navbar__item">文件上传<span class="is-text-gray-6 has-margin-left-sm">upload</span></a></div><div class="subnav"><div class="subnav__title"><c-icon name="navigation" size="12"></c-icon><span> 导航</span></div><a href="/component/tabs" class="navbar__item">标签页<span class="is-text-gray-6 has-margin-left-sm">tabs</span></a><a href="/component/menu" class="navbar__item">导航菜单<span class="is-text-gray-6 has-margin-left-sm">menu</span></a><a href="/component/breadcrumb" class="navbar__item">面包屑<span class="is-text-gray-6 has-margin-left-sm">breadcrumb</span></a><a href="/component/toolbar" class="navbar__item">工具栏<span class="is-text-gray-6 has-margin-left-sm">toolbar</span></a><a href="/component/steps" class="navbar__item">步骤条<span class="is-text-gray-6 has-margin-left-sm">steps</span></a></div><div class="subnav"><div class="subnav__title"><c-icon name="bar-chart-2" size="12"></c-icon><span> 数据展示</span></div><a href="/component/table" class="navbar__item">表格<span class="is-text-gray-6 has-margin-left-sm">table</span></a><a href="/component/card" class="navbar__item">卡片<span class="is-text-gray-6 has-margin-left-sm">card</span></a><a href="/component/pagination" class="navbar__item">分页<span class="is-text-gray-6 has-margin-left-sm">pagination</span></a><a href="/component/chip" class="navbar__item">标签<span class="is-text-gray-6 has-margin-left-sm">chip</span></a><a href="/component/calendar" class="navbar__item">日历<span class="is-text-gray-6 has-margin-left-sm">calendar</span></a><a href="/component/tree" class="navbar__item router-link-exact-active router-link-active">树形组件<span class="is-text-gray-6 has-margin-left-sm">tree</span></a></div><div class="subnav"><div class="subnav__title"><c-icon name="alert-triangle" size="12"></c-icon><span> 视觉反馈</span></div><a href="/component/modal" class="navbar__item">对话框<span class="is-text-gray-6 has-margin-left-sm">modal</span></a><a href="/component/tip" class="navbar__item">提示框<span class="is-text-gray-6 has-margin-left-sm">tip</span></a><a href="/component/pop-confirm" class="navbar__item">气泡确认框<span class="is-text-gray-6 has-margin-left-sm">pop-confirm</span></a><a href="/component/notification" class="navbar__item">通知<span class="is-text-gray-6 has-margin-left-sm">notification</span></a><a href="/component/loading" class="navbar__item">加载中<span class="is-text-gray-6 has-margin-left-sm">loading</span></a></div></div></c-box-item><c-box-item xs="12" sm="8 offset-4" md="9 offset-3" lg="10 offset-2" class="content"><article class="markdown-body c-container is-lg"><h1>Tree 树形组件</h1> <p>树形组件用于展示具有多层结构的数据，比如一个文件夹、省市区数据等。Clair 的树行组件提供了多级数据的展示、展开收起和选择等功能。</p> <h2 id="shu-ju-zhan-shi"><a href="#shu-ju-zhan-shi" target="_blank" rel="nofollow noopener noreferrer"></a>数据展示</h2> <p>给 <code>c-tree</code> 传递 <code>nodes</code> 属性即可将其展示出来。</p> <div class="vue-demo-block"><div class="vue-demo"><c-tree nodes="[object Object],[object Object],[object Object],[object Object]"></c-tree></div> <div class="vue-demo-tools"><input type="checkbox" tabindex="-1" aria-hidden="true"> <label aria-hidden="true"></label> <div class="vue-demo-tool-snippets"><a title="在 Codepen 中打开"><c-icon type="feather" name="codepen" class="vue-demo-tools__icon"></c-icon></a> <a title="在 CodeSandbox 中打开"><c-icon type="feather" name="edit-3" class="vue-demo-tools__icon"></c-icon></a> <a title="复制代码"><c-icon type="feather" name="copy" class="vue-demo-tools__icon"></c-icon></a></div></div> <pre class="vue-demo-source-code"><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">c-tree</span> <span class="hljs-attr">:nodes</span>=<span class="hljs-string">&quot;nodes&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">c-tree</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  data () {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">nodes</span>: [
        {
          <span class="hljs-attr">label</span>: <span class="hljs-string">'藻类'</span>,
          <span class="hljs-attr">children</span>: [
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'绿藻'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'轮藻'</span> }
          ]
        },
        {
          <span class="hljs-attr">label</span>: <span class="hljs-string">'苔藓'</span>,
          <span class="hljs-attr">children</span>: [
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'地钱'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'角苔'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'苔藓植物门'</span> }
          ]
        },
        {
          <span class="hljs-attr">label</span>: <span class="hljs-string">'蕨类'</span>,
          <span class="hljs-attr">children</span>: [
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'石松'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'蕨类植物门'</span> }
          ]
        },
        {
          <span class="hljs-attr">label</span>: <span class="hljs-string">'种子植物'</span>,
          <span class="hljs-attr">children</span>: [
            {
              <span class="hljs-attr">label</span>: <span class="hljs-string">'被子'</span>,
              <span class="hljs-attr">children</span>: [
                { <span class="hljs-attr">label</span>: <span class="hljs-string">'睡莲目'</span> },
                { <span class="hljs-attr">label</span>: <span class="hljs-string">'木兰藤目'</span> }
              ]
            },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'苏铁'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'银杏'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'松柏'</span> }
          ]
        }
      ]
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></div> <h2 id="mo-ren-zhan-kai"><a href="#mo-ren-zhan-kai" target="_blank" rel="nofollow noopener noreferrer"></a>默认展开</h2> <p>设置默认展开的方式是给 <code>c-tree</code> 传入 <code>default-expanded-keys</code> 属性。使用这种方式时，需要每个节点有一个唯一的标识，比如 <code>id</code>。</p> <div class="vue-demo-block"><div class="vue-demo"><c-tree nodes="[object Object],[object Object],[object Object],[object Object]" default-expanded-keys="4,5" node-key="id"></c-tree></div> <div class="vue-demo-tools"><input type="checkbox" tabindex="-1" aria-hidden="true"> <label aria-hidden="true"></label> <div class="vue-demo-tool-snippets"><a title="在 Codepen 中打开"><c-icon type="feather" name="codepen" class="vue-demo-tools__icon"></c-icon></a> <a title="在 CodeSandbox 中打开"><c-icon type="feather" name="edit-3" class="vue-demo-tools__icon"></c-icon></a> <a title="复制代码"><c-icon type="feather" name="copy" class="vue-demo-tools__icon"></c-icon></a></div></div> <pre class="vue-demo-source-code"><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">c-tree</span>
  <span class="hljs-attr">:nodes</span>=<span class="hljs-string">&quot;nodes&quot;</span>
  <span class="hljs-attr">:default-expanded-keys</span>=<span class="hljs-string">&quot;[4, 5]&quot;</span>
  <span class="hljs-attr">node-key</span>=<span class="hljs-string">&quot;id&quot;</span>
&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">c-tree</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  data () {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">nodes</span>: [
        {
          <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,
          <span class="hljs-attr">label</span>: <span class="hljs-string">'藻类'</span>,
          <span class="hljs-attr">expanded</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">children</span>: [
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'绿藻'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'轮藻'</span> }
          ]
        },
        {
          <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>,
          <span class="hljs-attr">label</span>: <span class="hljs-string">'苔藓'</span>,
          <span class="hljs-attr">children</span>: [
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'地钱'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'角苔'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'苔藓植物门'</span> }
          ]
        },
        {
          <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>,
          <span class="hljs-attr">label</span>: <span class="hljs-string">'蕨类'</span>,
          <span class="hljs-attr">children</span>: [
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'石松'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'蕨类植物门'</span> }
          ]
        },
        {
          <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>,
          <span class="hljs-attr">label</span>: <span class="hljs-string">'种子植物'</span>,
          <span class="hljs-attr">children</span>: [
            {
              <span class="hljs-attr">id</span>: <span class="hljs-number">5</span>,
              <span class="hljs-attr">label</span>: <span class="hljs-string">'被子'</span>,
              <span class="hljs-attr">children</span>: [
                { <span class="hljs-attr">label</span>: <span class="hljs-string">'睡莲目'</span> },
                { <span class="hljs-attr">label</span>: <span class="hljs-string">'木兰藤目'</span> }
              ]
            },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'苏铁'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'银杏'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'松柏'</span> }
          ]
        }
      ]
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></div> <p>如果想默认展开所有节点，将 <code>default-expand-all</code> 属性设置为 <code>true</code> 即可。</p> <div class="vue-demo-block"><div class="vue-demo"><c-tree nodes="[object Object]" default-expand-all=""></c-tree></div> <div class="vue-demo-tools"><input type="checkbox" tabindex="-1" aria-hidden="true"> <label aria-hidden="true"></label> <div class="vue-demo-tool-snippets"><a title="在 Codepen 中打开"><c-icon type="feather" name="codepen" class="vue-demo-tools__icon"></c-icon></a> <a title="在 CodeSandbox 中打开"><c-icon type="feather" name="edit-3" class="vue-demo-tools__icon"></c-icon></a> <a title="复制代码"><c-icon type="feather" name="copy" class="vue-demo-tools__icon"></c-icon></a></div></div> <pre class="vue-demo-source-code"><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">c-tree</span> <span class="hljs-attr">:nodes</span>=<span class="hljs-string">&quot;nodes&quot;</span> <span class="hljs-attr">default-expand-all</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">c-tree</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  data () {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">nodes</span>: [
        {
          <span class="hljs-attr">label</span>: <span class="hljs-string">'种子植物'</span>,
          <span class="hljs-attr">children</span>: [
            {
              <span class="hljs-attr">label</span>: <span class="hljs-string">'被子'</span>,
              <span class="hljs-attr">children</span>: [
                { <span class="hljs-attr">label</span>: <span class="hljs-string">'睡莲目'</span> },
                { <span class="hljs-attr">label</span>: <span class="hljs-string">'木兰藤目'</span> }
              ]
            },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'苏铁'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'银杏'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'松柏'</span> }
          ]
        }
      ]
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></div> <h2 id="zi-ding-yi-jie-dian-xian-shi"><a href="#zi-ding-yi-jie-dian-xian-shi" target="_blank" rel="nofollow noopener noreferrer"></a>自定义节点显示</h2> <p>使用 Vue 的 <a href="https://cn.vuejs.org/v2/guide/components.html#%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD" target="_blank" rel="nofollow noopener noreferrer">Scoped Slots</a>，你可以使用模版自定义每个节点的显示。</p> <div class="vue-demo-block"><div class="vue-demo" data-v-3eecd26d><c-tree nodes="[object Object]" default-expand-all="" data-v-3eecd26d></c-tree></div> <div class="vue-demo-tools"><input type="checkbox" tabindex="-1" aria-hidden="true"> <label aria-hidden="true"></label> <div class="vue-demo-tool-snippets"><a title="在 Codepen 中打开"><c-icon type="feather" name="codepen" class="vue-demo-tools__icon"></c-icon></a> <a title="在 CodeSandbox 中打开"><c-icon type="feather" name="edit-3" class="vue-demo-tools__icon"></c-icon></a> <a title="复制代码"><c-icon type="feather" name="copy" class="vue-demo-tools__icon"></c-icon></a></div></div> <pre class="vue-demo-source-code"><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">c-tree</span> <span class="hljs-attr">:nodes</span>=<span class="hljs-string">&quot;nodes&quot;</span> <span class="hljs-attr">default-expand-all</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;label&quot;</span> <span class="hljs-attr">slot-scope</span>=<span class="hljs-string">&quot;{node, $node}&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{{ node.label }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">c-icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;x&quot;</span> <span class="hljs-attr">valign</span>=<span class="hljs-string">&quot;middle&quot;</span> @<span class="hljs-attr">click.native.stop</span>=<span class="hljs-string">&quot;remove($node)&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">c-icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;plus&quot;</span> <span class="hljs-attr">valign</span>=<span class="hljs-string">&quot;middle&quot;</span> @<span class="hljs-attr">click.native.stop</span>=<span class="hljs-string">&quot;add(node, $node)&quot;</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">c-tree</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  data () {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">nodes</span>: [
        {
          <span class="hljs-attr">label</span>: <span class="hljs-string">'藻类'</span>,
          <span class="hljs-attr">children</span>: [
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'绿藻'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'轮藻'</span> }
          ]
        }
      ]
    }
  },
  <span class="hljs-attr">methods</span>: {
    add (node, $node) {
      <span class="hljs-keyword">const</span> { children } = node
      <span class="hljs-keyword">const</span> newNode = { <span class="hljs-attr">label</span>: <span class="hljs-string">`新节点<span class="hljs-subst">${count++}</span>`</span> }
      <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(children)) {
        children.push(newNode)
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">this</span>.$<span class="hljs-keyword">set</span>(node, 'children', [newNode])
      }
      $node.setExpanded(true)
    },
    remove ($node) {
      <span class="hljs-keyword">const</span> $parent = $node.$parent
      <span class="hljs-keyword">const</span> siblings = $parent.isRoot ? $parent.nodes : $parent.node.children
      <span class="hljs-keyword">const</span> node = $node.node
      <span class="hljs-keyword">const</span> index = siblings.indexOf(node)
      siblings.splice(index, <span class="hljs-number">1</span>)
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.c-icon</span> {
    <span class="hljs-attribute">float</span>: right;
    <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">0.5em</span>;
  }

  <span class="hljs-selector-class">.c-icon</span><span class="hljs-selector-pseudo">:hover</span> {
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#70abe6</span>;
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre></div> <h2 id="ke-xuan-ze"><a href="#ke-xuan-ze" target="_blank" rel="nofollow noopener noreferrer"></a>可选择</h2> <p>设置 <code>checkable</code> 属性可以让组件的节点变成可勾选的。默认选中的节点可以通过 <code>default-checked-keys</code> 属性设置。</p> <div class="vue-demo-block"><div class="vue-demo"><c-tree nodes="[object Object],[object Object],[object Object],[object Object]" checkable="" default-checked-keys="0,8"></c-tree></div> <div class="vue-demo-tools"><input type="checkbox" tabindex="-1" aria-hidden="true"> <label aria-hidden="true"></label> <div class="vue-demo-tool-snippets"><a title="在 Codepen 中打开"><c-icon type="feather" name="codepen" class="vue-demo-tools__icon"></c-icon></a> <a title="在 CodeSandbox 中打开"><c-icon type="feather" name="edit-3" class="vue-demo-tools__icon"></c-icon></a> <a title="复制代码"><c-icon type="feather" name="copy" class="vue-demo-tools__icon"></c-icon></a></div></div> <pre class="vue-demo-source-code"><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">c-tree</span>
  <span class="hljs-attr">:nodes</span>=<span class="hljs-string">&quot;nodes&quot;</span>
  <span class="hljs-attr">checkable</span>
  <span class="hljs-attr">:default-checked-keys</span>=<span class="hljs-string">&quot;defaultChecked&quot;</span>
  @<span class="hljs-attr">check-change</span>=<span class="hljs-string">&quot;onCheckChange&quot;</span>
&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">c-tree</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  data () {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">defaultChecked</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">8</span>],
      <span class="hljs-attr">nodes</span>: [
        {
          <span class="hljs-attr">id</span>: <span class="hljs-number">0</span>,
          <span class="hljs-attr">label</span>: <span class="hljs-string">'藻类'</span>,
          <span class="hljs-attr">children</span>: [
            { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'绿藻'</span> },
            { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'轮藻'</span> }
          ]
        },
        {
          <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>,
          <span class="hljs-attr">label</span>: <span class="hljs-string">'苔藓'</span>,
          <span class="hljs-attr">children</span>: [
            { <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'地钱'</span> },
            { <span class="hljs-attr">id</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'角苔'</span> },
            { <span class="hljs-attr">id</span>: <span class="hljs-number">6</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'苔藓植物门'</span> }
          ]
        },
        {
          <span class="hljs-attr">id</span>: <span class="hljs-number">7</span>,
          <span class="hljs-attr">label</span>: <span class="hljs-string">'蕨类'</span>,
          <span class="hljs-attr">children</span>: [
            { <span class="hljs-attr">id</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'石松'</span> },
            { <span class="hljs-attr">id</span>: <span class="hljs-number">9</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'蕨类植物门'</span> }
          ]
        },
        {
          <span class="hljs-attr">id</span>: <span class="hljs-number">10</span>,
          <span class="hljs-attr">label</span>: <span class="hljs-string">'种子植物'</span>,
          <span class="hljs-attr">expanded</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">children</span>: [
            {
              <span class="hljs-attr">id</span>: <span class="hljs-number">11</span>,
              <span class="hljs-attr">label</span>: <span class="hljs-string">'被子'</span>,
              <span class="hljs-attr">checked</span>: <span class="hljs-literal">true</span>,
              <span class="hljs-attr">children</span>: [
                { <span class="hljs-attr">id</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'睡莲目'</span> },
                { <span class="hljs-attr">id</span>: <span class="hljs-number">13</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'木兰藤目'</span> }
              ]
            },
            { <span class="hljs-attr">id</span>: <span class="hljs-number">14</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'苏铁'</span> },
            { <span class="hljs-attr">id</span>: <span class="hljs-number">15</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'银杏'</span> },
            { <span class="hljs-attr">id</span>: <span class="hljs-number">16</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'松柏'</span> }
          ]
        }
      ]
    }
  },
  <span class="hljs-attr">methods</span>: {
    onCheckChange(node, checked) {
      <span class="hljs-built_in">console</span>.log(node, checked)
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></div> <h2 id="huo-qu-xuan-zhong-jie-dian"><a href="#huo-qu-xuan-zhong-jie-dian" target="_blank" rel="nofollow noopener noreferrer"></a>获取选中节点</h2> <div class="vue-demo-block"><div class="vue-demo"><c-tree nodes="[object Object],[object Object],[object Object],[object Object]" checkable=""></c-tree> <c-button primary="">获取选中的节点</c-button> <c-button primary="">获取选中的叶节点</c-button> <c-button primary="">获取展开的节点</c-button> <c-button primary="">获取展开的节点Key</c-button></div> <div class="vue-demo-tools"><input type="checkbox" tabindex="-1" aria-hidden="true"> <label aria-hidden="true"></label> <div class="vue-demo-tool-snippets"><a title="在 Codepen 中打开"><c-icon type="feather" name="codepen" class="vue-demo-tools__icon"></c-icon></a> <a title="在 CodeSandbox 中打开"><c-icon type="feather" name="edit-3" class="vue-demo-tools__icon"></c-icon></a> <a title="复制代码"><c-icon type="feather" name="copy" class="vue-demo-tools__icon"></c-icon></a></div></div> <pre class="vue-demo-source-code"><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">c-tree</span> <span class="hljs-attr">:nodes</span>=<span class="hljs-string">&quot;nodes&quot;</span> <span class="hljs-attr">checkable</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;tree&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">c-tree</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">c-button</span> <span class="hljs-attr">primary</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;getCheckedNodes(false)&quot;</span>&gt;</span>获取选中的节点<span class="hljs-tag">&lt;/<span class="hljs-name">c-button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">c-button</span> <span class="hljs-attr">primary</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;getCheckedNodes(true)&quot;</span>&gt;</span>获取选中的叶节点<span class="hljs-tag">&lt;/<span class="hljs-name">c-button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">c-button</span> <span class="hljs-attr">primary</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;getExpandedNodes&quot;</span>&gt;</span>获取展开的节点<span class="hljs-tag">&lt;/<span class="hljs-name">c-button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">c-button</span> <span class="hljs-attr">primary</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;getExpandedKeys&quot;</span>&gt;</span>获取展开的节点Key<span class="hljs-tag">&lt;/<span class="hljs-name">c-button</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  data () {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">nodes</span>: [
        {
          <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,
          <span class="hljs-attr">label</span>: <span class="hljs-string">'藻类'</span>,
          <span class="hljs-attr">children</span>: [
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'绿藻'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'轮藻'</span> }
          ]
        },
        {
          <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>,
          <span class="hljs-attr">label</span>: <span class="hljs-string">'苔藓'</span>,
          <span class="hljs-attr">children</span>: [
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'地钱'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'角苔'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'苔藓植物门'</span> }
          ]
        },
        {
          <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>,
          <span class="hljs-attr">label</span>: <span class="hljs-string">'蕨类'</span>,
          <span class="hljs-attr">children</span>: [
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'石松'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'蕨类植物门'</span> }
          ]
        },
        {
          <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>,
          <span class="hljs-attr">label</span>: <span class="hljs-string">'种子植物'</span>,
          <span class="hljs-attr">children</span>: [
            {
              <span class="hljs-attr">id</span>: <span class="hljs-number">5</span>,
              <span class="hljs-attr">label</span>: <span class="hljs-string">'被子'</span>,
              <span class="hljs-attr">checked</span>: <span class="hljs-literal">true</span>,
              <span class="hljs-attr">children</span>: [
                { <span class="hljs-attr">label</span>: <span class="hljs-string">'睡莲目'</span> },
                { <span class="hljs-attr">label</span>: <span class="hljs-string">'木兰藤目'</span> }
              ]
            },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'苏铁'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'银杏'</span> },
            { <span class="hljs-attr">label</span>: <span class="hljs-string">'松柏'</span> }
          ]
        }
      ]
    }
  },
  <span class="hljs-attr">methods</span>: {
    getCheckedNodes (leafOnly) {
      <span class="hljs-keyword">const</span> checked = <span class="hljs-keyword">this</span>.$refs.tree
        .getCheckedNodes(leafOnly)
        .map(<span class="hljs-function"><span class="hljs-params">node</span> =&gt;</span> node.label)
        .join(<span class="hljs-string">', '</span>)
      <span class="hljs-keyword">this</span>.$alert({ <span class="hljs-attr">msg</span>: checked })
    },
    getExpandedNodes () {
      <span class="hljs-keyword">const</span> expanded = <span class="hljs-keyword">this</span>.$refs.tree
        .getExpandedNodes()
        .map(<span class="hljs-function"><span class="hljs-params">node</span> =&gt;</span> node.label)
        .join(<span class="hljs-string">', '</span>)
      <span class="hljs-keyword">this</span>.$alert({ <span class="hljs-attr">msg</span>: expanded })
    },
    getExpandedKeys () {
      <span class="hljs-keyword">const</span> keys = <span class="hljs-keyword">this</span>.$refs.tree
        .getExpandedKeys()
        .join(<span class="hljs-string">', '</span>)
      <span class="hljs-keyword">this</span>.$alert({ <span class="hljs-attr">msg</span>: keys })
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre></div></article><footer>Code licensed under MIT License.<a href="https://github.com/clair-design/clair">Github项目</a>/<a href="https://github.com/clair-design/clair/issues">问题反馈</a></footer></c-box-item></c-box><c-button primary="" outline="" round="" icon="navigation-2" title="回到顶部" style="position:fixed;right:50px;bottom:100px;z-index:999;display:none;"></c-button></div></div></div>
  <script src="https://lib.baomitu.com/babel-polyfill/6.26.0/polyfill.min.js"></script><script src="https://lib.baomitu.com/fetch/2.0.3/fetch.min.js"></script><script src="https://lib.baomitu.com/clipboard.js/1.7.1/clipboard.min.js"></script><script src="https://lib.baomitu.com/yamljs/0.3.0/yaml.min.js"></script>
  
  <script src="/static/vendor.1634e574.js"></script>
  <script src="/static/framework.2d67bbfd.js"></script>
  <script src="/static/manifest.48586692.js"></script>
</body>
</html>